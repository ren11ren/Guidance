<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Guidance System - Student Management</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color:#374652;
            --secondary-color: #2980b9;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: rgb(7, 7, 7);
            padding: 1rem 2rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        header h1 {
            font-size: 1.8rem;
            display: flex;
            align-items: center;
        }

        header h1 i {
            margin-right: 10px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: white;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        nav {
            background-color: var(--secondary-color);
            padding: 0.5rem 2rem;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            margin-right: 0.5rem;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
        }

        nav ul li a:hover, nav ul li a.active {
            background-color: var(--dark-color);
        }

        nav ul li a i {
            margin-right: 8px;
        }

        main {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        section {
            margin-bottom: 2rem;
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: var(--dark-color);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--light-color);
        }

        .hidden {
            display: none;
        }

        /* Breadcrumb */
        .breadcrumb {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            color: #666;
            font-size: 0.9rem;
        }

        .breadcrumb a {
            color: var(--primary-color);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .breadcrumb span {
            margin: 0 0.5rem;
        }

        /* Category selection */
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .category-card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .category-card i {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .category-card h3 {
            color: var(--dark-color);
            margin-bottom: 0.5rem;
        }

        .category-card p {
            color: #666;
        }

        /* Program selection */
        .programs-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .program-btn {
            background-color: white;
            border: 2px solid var(--light-color);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .program-btn:hover {
            border-color: var(--primary-color);
            background-color: #f0f8ff;
            transform: translateY(-3px);
        }

        .program-btn i {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        /* Student list */
        .student-controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .search-container {
            position: relative;
            flex: 1;
            max-width: 300px;
            margin-left: auto;
        }

        .search-container i {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #777;
        }

        .search-container input {
            padding: 8px 8px 8px 35px;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 100%;
        }

        .year-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .year-tab {
            background-color: var(--light-color);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .year-tab.active {
            background-color: var(--primary-color);
            color: white;
        }

        .year-tab:hover {
            background-color: #dde4e6;
        }

        .year-tab.active:hover {
            background-color: var(--secondary-color);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
            background: white;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: var(--primary-color);
            color: white;
            font-weight: 600;
            position: sticky;
            top: 0;
        }

        tr:hover {
            background-color: #f5f5f5;
        }

        .action-btn {
            padding: 0.5rem;
            margin-right: 0.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .edit-btn {
            background-color: var(--warning-color);
            color: white;
        }

        .edit-btn:hover {
            background-color: #e67e22;
        }

        .print-btn {
            background-color: var(--primary-color);
            color: white;
        }

        .print-btn:hover {
            background-color: var(--secondary-color);
        }

        .delete-btn {
            background-color: var(--accent-color);
            color: white;
        }

        .delete-btn:hover {
            background-color: #c0392b;
        }

        .empty-state {
            text-align: center;
            padding: 2rem;
            color: #777;
        }

        .empty-state i {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #ccc;
        }

        .back-btn {
            background-color: #95a5a6;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            transition: background-color 0.3s;
        }

        .back-btn i {
            margin-right: 0.5rem;
        }

        .back-btn:hover {
            background-color: #7f8c8d;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 2rem;
            border: none;
            width: 80%;
            max-width: 800px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            max-height: 80vh;
            overflow-y: auto;
            animation: slideIn 0.3s;
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close:hover {
            color: black;
        }

        /* Form styles */
        .form-row {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .form-group {
            flex: 1;
            margin-bottom: 1rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--dark-color);
        }

        input, select, textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            transition: border 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        input.error, select.error {
            border-color: var(--accent-color);
        }

        .error-message {
            color: var(--accent-color);
            font-size: 0.8rem;
            margin-top: 0.25rem;
            display: none;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
            margin-right: 0.5rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        button:hover {
            background-color: var(--secondary-color);
        }

        .cancel-btn {
            background-color: #95a5a6;
        }

        .cancel-btn:hover {
            background-color: #7f8c8d;
        }

        .delete-action-btn {
            background-color: var(--accent-color);
        }

        .delete-action-btn:hover {
            background-color: #c0392b;
        }

        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 1rem 1.5rem;
            border-radius: 4px;
            color: white;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            animation: toastIn 0.3s, toastOut 0.3s 2.7s;
            transform: translateX(100%);
        }

        @keyframes toastIn {
            to { transform: translateX(0); }
        }

        @keyframes toastOut {
            from { transform: translateX(0); }
            to { transform: translateX(100%); }
        }

        .toast.success {
            background-color: var(--success-color);
        }

        .toast.error {
            background-color: var(--accent-color);
        }

        .toast.warning {
            background-color: var(--warning-color);
        }

        /* Confirmation modal */
        .confirmation-modal {
            text-align: center;
            padding: 30px;
        }

        .confirmation-modal i {
            font-size: 3rem;
            color: var(--warning-color);
            margin-bottom: 1rem;
        }

        .confirmation-modal p {
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        /* Student Inventory Form Styles */
        .inventory-form {
            width: 100%;
            padding: 20px;
            margin: 0 auto;
            background: #fff;
            font-size: 13px;
            font-family: Arial, sans-serif;
        }

        .inventory-form h1, 
        .inventory-form h2, 
        .inventory-form h3 {
            text-align: center;
            margin: 5px 0;
        }

        .form-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .form-logo, .form-pic {
            border: 1px solid #000;
            text-align: center;
            font-size: 12px;
        }

        .form-logo {
            width: 80px;
            height: 80px;
            line-height: 80px;
        }

        .form-pic {
            width: 120px;
            height: 120px;
            line-height: 120px;
        }

        .form-section {
            margin: 15px 0;
        }

        .form-field-row {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 8px;
            gap: 10px;
            align-items: center;
        }

        .form-field-row label {
            width: 200px;
            font-weight: bold;
            font-size: 13px;
        }

        .form-field-row input, 
        .form-field-row select, 
        .form-field-row textarea {
            flex: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            outline: none;
            font-family: inherit;
            font-size: 13px;
        }

        .form-field-row textarea {
            resize: vertical;
            min-height: 60px;
        }

        .form-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            font-size: 12px;
        }

        .form-table th, .form-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        .form-table input, .form-table select, .form-table textarea {
            width: 100%;
            border: 1px solid #ddd;
            font-size: 12px;
            padding: 5px;
            box-sizing: border-box;
        }

        .form-table textarea {
            resize: vertical;
            min-height: 50px;
        }

        .form-signature {
            margin-top: 40px;
            text-align: right;
        }

        .form-signature-line {
            width: 250px;
            border-bottom: 1px solid #000;
            margin-left: auto;
        }

        .form-add-btn {
            margin-top: 5px;
            font-size: 12px;
            padding: 4px 10px;
        }

        /* Print styles for each category */
        @media print {
            header, nav, .student-controls, .back-btn, .action-btn {
                display: none !important;
            }

            main, section {
                padding: 0;
                margin: 0;
                box-shadow: none;
            }

            .modal {
                position: static;
                display: block;
                background: none;
            }

            .modal-content {
                margin: 0;
                padding: 0;
                box-shadow: none;
                width: 100%;
                max-width: 100%;
            }

            .close {
                display: none;
            }
            
            /* College print layout */
            .college-print {
                font-family: Arial, sans-serif;
                font-size: 12px;
                line-height: 1.4;
                padding: 20px;
            }
            
            .college-print .header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
                border-bottom: 2px solid #000;
                padding-bottom: 10px;
            }
            
            .college-print .logo {
                width: 80px;
                height: 80px;
                border: 1px solid #000;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
            }
            
            .college-print .title {
                text-align: center;
                flex-grow: 1;
                margin: 0 20px;
            }
            
            .college-print .photo {
                width: 120px;
                height: 120px;
                border: 1px solid #000;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .college-print .section {
                margin: 15px 0;
            }
            
            .college-print .section-title {
                font-weight: bold;
                border-bottom: 1px solid #000;
                margin-bottom: 10px;
                padding-bottom: 5px;
            }
            
            .college-print .row {
                display: flex;
                margin-bottom: 8px;
            }
            
            .college-print .label {
                width: 200px;
                font-weight: bold;
            }
            
            .college-print .value {
                flex-grow: 1;
                border-bottom: 1px solid #000;
                min-height: 18px;
            }
            
            .college-print table {
                width: 100%;
                border-collapse: collapse;
                margin: 10px 0;
            }
            
            .college-print table, .college-print th, .college-print td {
                border: 1px solid #000;
                padding: 5px;
            }
            
            .college-print .signature {
                margin-top: 40px;
                text-align: right;
            }
            
            .college-print .signature-line {
                width: 250px;
                border-bottom: 1px solid #000;
                margin-left: auto;
            }
            
            /* TVET print layout */
            .tvet-print {
                font-family: Arial, sans-serif;
                font-size: 12px;
                line-height: 1.4;
                padding: 20px;
            }
            
            .tvet-print .header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
                border-bottom: 2px solid #000;
                padding-bottom: 10px;
            }
            
            .tvet-print .logo {
                width: 80px;
                height: 80px;
                border: 1px solid #000;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
            }
            
            .tvet-print .title {
                text-align: center;
                flex-grow: 1;
                margin: 0 20px;
            }
            
            .tvet-print .photo {
                width: 120px;
                height: 120px;
                border: 1px solid #000;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .tvet-print .section {
                margin: 15px 0;
            }
            
            .tvet-print .section-title {
                font-weight: bold;
                border-bottom: 1px solid #000;
                margin-bottom: 10px;
                padding-bottom: 5px;
            }
            
            .tvet-print .row {
                display: flex;
                margin-bottom: 8px;
            }
            
            .tvet-print .label {
                width: 200px;
                font-weight: bold;
            }
            
            .tvet-print .value {
                flex-grow: 1;
                border-bottom: 1px solid #000;
                min-height: 18px;
            }
            
            .tvet-print table {
                width: 100%;
                border-collapse: collapse;
                margin: 10px 0;
            }
            
            .tvet-print table, .tvet-print th, .tvet-print td {
                border: 1px solid #000;
                padding: 5px;
            }
            
            .tvet-print .signature {
                margin-top: 40px;
                text-align: right;
            }
            
            .tvet-print .signature-line {
                width: 250px;
                border-bottom: 1px solid #000;
                margin-left: auto;
            }
            
            /* Basic Education print layout */
            .basic-print {
                font-family: Arial, sans-serif;
                font-size: 12px;
                line-height: 1.4;
                padding: 20px;
            }
            
            .basic-print .header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
                border-bottom: 2px solid #000;
                padding-bottom: 10px;
            }
            
            .basic-print .logo {
                width: 80px;
                height: 80px;
                border: 1px solid #000;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
            }
            
            .basic-print .title {
                text-align: center;
                flex-grow: 1;
                margin: 0 20px;
            }
            
            .basic-print .photo {
                width: 120px;
                height: 120px;
                border: 1px solid #000;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .basic-print .section {
                margin: 15px 0;
            }
            
            .basic-print .section-title {
                font-weight: bold;
                border-bottom: 1px solid #000;
                margin-bottom: 10px;
                padding-bottom: 5px;
            }
            
            .basic-print .row {
                display: flex;
                margin-bottom: 8px;
            }
            
            .basic-print .label {
                width: 200px;
                font-weight: bold;
            }
            
            .basic-print .value {
                flex-grow: 1;
                border-bottom: 1px solid #000;
                min-height: 18px;
            }
            
            .basic-print table {
                width: 100%;
                border-collapse: collapse;
                margin: 10px 0;
            }
            
            .basic-print table, .basic-print th, .basic-print td {
                border: 1px solid #000;
                padding: 5px;
            }
            
            .basic-print .signature {
                margin-top: 40px;
                text-align: right;
            }
            
            .basic-print .signature-line {
                width: 250px;
                border-bottom: 1px solid #000;
                margin-left: auto;
            }
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .category-grid {
                grid-template-columns: 1fr;
            }
            
            .programs-list {
                grid-template-columns: 1fr;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .modal-content {
                width: 95%;
                margin: 2% auto;
                padding: 1rem;
            }
            
            nav ul {
                flex-direction: column;
            }
            
            nav ul li {
                margin-bottom: 0.5rem;
            }

            .student-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .search-container {
                max-width: 100%;
            }

            table {
                display: block;
                overflow-x: auto;
            }

            .inventory-form {
                width: 100%;
                padding: 10px;
            }
            
            .form-header {
                flex-direction: column;
                gap: 10px;
            }
            
            .form-field-row {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .form-field-row label {
                width: 100%;
            }
        }

        /* Form Styles from your design */
        .top-placeholder {
            width: 100%;
            height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            margin-bottom: 0;
        }
        .top-placeholder img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .form-container {
            padding: 30px;
        }
        .photo-section {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .photo-placeholder {
            width: 150px;
            height: 150px;
            border: 2px dashed #7f8c8d;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #7f8c8d;
            font-weight: bold;
        }
        .form-info {
            flex: 1;
            margin-left: 20px;
        }
        .form-header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #2c3e50;
        }
        .form-header h2 {
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 24px;
        }
        .section-title {
            color: #2c3e50;
            padding: 10px 0;
            margin: 25px 0 15px 0;
            border-bottom: 1px solid #2c3e50;
            font-size: 18px;
            font-weight: 600;
        }
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 15px;
        }
        .form-group {
            flex: 1;
            min-width: 250px;
            position: relative;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 15px;
        }
        .line-input {
            width: 100%;
            border: none;
            border-bottom: 1px solid #7f8c8d;
            padding: 8px 0;
            font-size: 15px;
            background: transparent;
            outline: none;
        }
        .line-select {
            width: 100%;
            border: none;
            border-bottom: 1px solid #7f8c8d;
            padding: 8px 0;
            font-size: 15px;
            background: transparent;
            outline: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
        .line-textarea {
            width: 100%;
            border: none;
            border-bottom: 1px solid #7f8c8d;
            padding: 8px 0;
            font-size: 15px;
            background: transparent;
            outline: none;
            resize: none;
            min-height: 24px;
        }
        .line-input:focus, .line-select:focus, .line-textarea:focus {
            border-bottom: 2px solid #3498db;
        }
        .small-input {
            max-width: 150px;
        }
        .table-responsive {
            overflow-x: auto;
            margin: 20px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        table th, table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }
        table th {
            background-color: #f2f2f2;
            font-weight: 600;
        }
        table input, table select {
            width: 100%;
            padding: 8px;
            border: none;
            background: transparent;
            border-bottom: 1px solid #ccc;
        }
        table input:focus, table select:focus {
            outline: none;
            border-bottom: 2px solid #3498db;
        }
        .btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            margin-top: 10px;
        }
        .btn:hover {
            background-color: #2980b9;
        }
        .signature {
            margin-top: 40px;
            text-align: right;
        }
        .signature-line {
            width: 300px;
            border-bottom: 1px solid #2c3e50;
            margin-left: auto;
            margin-bottom: 5px;
            padding-top: 30px;
        }
        .line-select-wrapper {
            position: relative;
        }
        .line-select-wrapper:after {
            content: "▼";
            font-size: 12px;
            position: absolute;
            right: 0;
            bottom: 8px;
            color: #2c3e50;
            pointer-events: none;
        }
        .vertical-group {
            width: 100%;
            margin-bottom: 15px;
        }
        .vertical-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 15px;
        }
        .vertical-group select {
            width: 100%;
            padding: 10px 0;
            border: none;
            border-bottom: 1px solid #7f8c8d;
            font-size: 15px;
            transition: border-color 0.3s;
            margin-bottom: 10px;
            background: transparent;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
        .vertical-select-wrapper {
            position: relative;
        }
        .vertical-select-wrapper:after {
            content: "▼";
            font-size: 12px;
            position: absolute;
            right: 0;
            bottom: 18px;
            color: #2c3e50;
            pointer-events: none;
        }
        .year-dropdown {
            width: 120px;
        }
        .hidden {
            display: none;
        }
        .compact-row {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
        }
        .compact-group {
            flex: 1;
            min-width: 120px;
        }
        .auto-date {
            font-weight: bold;
            color: #2c3e50;
            padding: 8px 0;
            border-bottom: 1px solid #7f8c8d;
        }
    </style>
</head>
<body>
    <header>
        <h1><i class="fas fa-graduation-cap"></i> School Guidance System</h1>
        <div class="user-info">
            <div class="user-avatar">AD</div>
            <span>Admin User</span>
        </div>
    </header>

    <nav>
        <ul>

        </ul>
    </nav>

    <main>
        <section id="students">
            <h2>Student Management</h2>
            
            <!-- Breadcrumb navigation -->
            <div class="breadcrumb">
                <a href="#" id="breadcrumb-category">Categories</a>
                <span>/</span>
                <a href="#" id="breadcrumb-program" class="hidden">Programs</a>
                <span id="breadcrumb-program-separator" class="hidden">/</span>
                <a href="#" id="breadcrumb-students" class="hidden">Students</a>
            </div>
            
            <!-- Category Selection Page -->
            <div id="page-category" class="student-page">
                <h3>Select Student Category</h3>
                <div class="category-grid">
                    <div class="category-card" data-category="college">
                        <i class="fas fa-university"></i>
                        <h3>College</h3>
                        <p>Manage college students and programs</p>
                    </div>
                    <div class="category-card" data-category="tvet">
                        <i class="fas fa-tools"></i>
                        <h3>TVET</h3>
                        <p>Technical Vocational Education & Training</p>
                    </div>
                    <div class="category-card" data-category="basic">
                        <i class="fas fa-book-open"></i>
                        <h3>Basic Education</h3>
                        <p>Elementary, Junior High, and Senior High</p>
                    </div>
                </div>
            </div>
            
            <!-- Program Selection Page -->
            <div id="page-programs" class="student-page hidden">
                <button class="back-btn" id="back-to-category"><i class="fas fa-arrow-left"></i> Back to Categories</button>
                <h3>Select Program</h3>
                <div class="programs-list" id="programs-list">
                    <!-- Programs will be inserted here by JavaScript -->
                </div>
            </div>
            
            <!-- Student List Page -->
            <div id="page-students" class="student-page hidden">
                <button class="back-btn" id="back-to-programs"><i class="fas fa-arrow-left"></i> Back to Programs</button>
                <h3 id="program-title">Student List</h3>
                
                <div class="student-controls">
                    <button id="add-student-btn"><i class="fas fa-plus"></i> Add New Student</button>
                    <div class="search-container">
                        <i class="fas fa-search"></i>
                        <input type="text" id="student-search" placeholder="Search students...">
                    </div>
                </div>
                
                <div class="year-tabs" id="year-tabs">
                    <!-- Year/Grade tabs will be inserted here by JavaScript -->
                </div>
                
                <table id="students-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Program</th>
                            <th>Year/Grade</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="students-table-body">
                        <!-- Student data will be inserted here by JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <!-- Student Modal Form -->
    <div id="studentModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2><i class="fas fa-user-plus"></i> <span id="modal-title">Add Student</span></h2>
            
            <div class="inventory-form" id="student-form-container">
                <!-- Form content will be loaded here based on category -->
            </div>
            
            <div class="form-actions" style="margin-top: 20px;">
                <button type="button" id="save-student-btn"><i class="fas fa-save"></i> Save Student</button>
                <button type="button" class="cancel-btn" id="cancel-btn"><i class="fas fa-times"></i> Cancel</button>
                <button type="button" class="delete-action-btn hidden" id="delete-student-btn"><i class="fas fa-trash"></i> Delete Student</button>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmationModal" class="modal">
        <div class="modal-content confirmation-modal">
            <span class="close">&times;</span>
            <i class="fas fa-exclamation-circle"></i>
            <h3>Confirm Deletion</h3>
            <p>Are you sure you want to delete this student record? This action cannot be undone.</p>
            <div class="form-actions">
                <button id="confirm-delete-btn" class="delete-action-btn"><i class="fas fa-trash"></i> Delete</button>
                <button class="cancel-btn" id="cancel-delete-btn"><i class="fas fa-times"></i> Cancel</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize students from localStorage or use default data
        let students = JSON.parse(localStorage.getItem('students')) || [
            { 
                id: 1, 
                name: "Juan Dela Cruz", 
                course: "BSIT", 
                academicYear: "1st Year", 
                category: "college", 
                full: {
                    schoolYear: "2023-2024", 
                    semester: "1st", 
                    status: "New Student",
                    lastName: "Dela Cruz", 
                    firstName: "Juan", 
                    middleName: "Santos",
                    course: "BSIT", 
                    academicYear: "1st Year",
                    dateFilled: "2023-06-15",
                    permanentAddress: "123 Main St, City",
                    residentialAddress: "123 Main St, City",
                    placeOfBirth: "Manila",
                    dateOfBirth: "2000-05-15",
                    contact1: "09123456789",
                    contact2: "09198765432",
                    livingWithParents: "Yes",
                    boardingAddress: "",
                    landlordName: "",
                    landlordContact: "",
                    fatherName: "Jose Dela Cruz",
                    fatherEducation: "College",
                    fatherOccupation: "Engineer",
                    fatherContact: "09123456789",
                    fatherAddress: "123 Main St, City",
                    motherName: "Maria Dela Cruz",
                    motherEducation: "College",
                    motherOccupation: "Teacher",
                    motherContact: "09198765432",
                    motherAddress: "123 Main St, City",
                    guardianName: "",
                    guardianEducation: "",
                    guardianOccupation: "",
                    guardianContact: "",
                    guardianAddress: "",
                    monthlyIncome: "₱40,001 – ₱60,000",
                    isScholar: "No",
                    isWorking: "No",
                    talents: "Singing",
                    skills: "Leadership",
                    sports: "Basketball"
                }
            },
            { 
                id: 2, 
                name: "Maria Santos", 
                course: "BSN", 
                academicYear: "2nd Year", 
                category: "college", 
                full: {
                    schoolYear: "2023-2024", 
                    semester: "2nd", 
                    status: "Old Student",
                    lastName: "Santos", 
                    firstName: "Maria", 
                    middleName: "Lopez",
                    course: "BSN", 
                    academicYear: "2nd Year",
                    dateFilled: "2023-06-20",
                    permanentAddress: "456 Oak St, Town",
                    residentialAddress: "456 Oak St, Town",
                    placeOfBirth: "Quezon City",
                    dateOfBirth: "1999-08-22",
                    contact1: "09123456789",
                    contact2: "09198765432",
                    livingWithParents: "Yes",
                    boardingAddress: "",
                    landlordName: "",
                    landlordContact: "",
                    fatherName: "Carlos Santos",
                    fatherEducation: "Post Graduate",
                    fatherOccupation: "Doctor",
                    fatherContact: "09123456789",
                    fatherAddress: "456 Oak St, Town",
                    motherName: "Elena Santos",
                    motherEducation: "College",
                    motherOccupation: "Nurse",
                    motherContact: "09198765432",
                    motherAddress: "456 Oak St, Town",
                    guardianName: "",
                    guardianEducation: "",
                    guardianOccupation: "",
                    guardianContact: "",
                    guardianAddress: "",
                    monthlyIncome: "Above ₱100,000",
                    isScholar: "No",
                    isWorking: "No",
                    talents: "Dancing",
                    skills: "Communication",
                    sports: "Volleyball"
                }
            }
        ];

        // Save students to localStorage
        function saveStudentsToStorage() {
            localStorage.setItem('students', JSON.stringify(students));
        }

        // Programs for each category
        const programs = {
            college: ["BSCRIM", "BSCS", "BSHM"],
            tvet: ["Cookery", "HE", "BPP"],
            basic: ["JHS", "SHS", "Elementary"]
        };

        // Year/Grade levels
        const levels = {
            college: ["1st Year", "2nd Year", "3rd Year", "4th Year", "5th Year"],
            JHS: ["Grade 7", "Grade 8", "Grade 9", "Grade 10"],
            SHS: ["Grade 11", "Grade 12"],
            Elementary: ["Grade 1", "Grade 2", "Grade 3", "Grade 4", "Grade 5", "Grade 6"],
            BSCRIM: ["1st Year", "2nd Year", "3rd Year", "4th Year"],
            BSCS: ["1st Year", "2nd Year", "3rd Year", "4th Year"],
            BSHM: ["1st Year", "2nd Year", "3rd Year", "4th Year"],
            
            Cookery: ["N/A"],
            HE: ["N/A"],
            BPP: ["N/A"]
        };

        let currentProgram = "";
        let currentCategory = "";
        let editingIndex = -1;
        let currentFilteredStudents = [];

        // Show toast notification
        function showToast(message, type = "success") {
            const toast = document.createElement("div");
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                ${message}
            `;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Navigation between main sections
        document.querySelectorAll("nav a").forEach(link => {
            link.addEventListener("click", e => {
                e.preventDefault();
                document.querySelectorAll("nav a").forEach(l => l.classList.remove("active"));
                link.classList.add("active");
                const sectionId = link.dataset.section;
                document.querySelectorAll("main section").forEach(sec => sec.classList.add("hidden"));
                document.getElementById(sectionId).classList.remove("hidden");
            });
        });

        // Update breadcrumb
        function updateBreadcrumb() {
            const breadcrumbCategory = document.getElementById("breadcrumb-category");
            const breadcrumbProgram = document.getElementById("breadcrumb-program");
            const breadcrumbProgramSeparator = document.getElementById("breadcrumb-program-separator");
            const breadcrumbStudents = document.getElementById("breadcrumb-students");
            
            // Reset all
            breadcrumbProgram.classList.add("hidden");
            breadcrumbProgramSeparator.classList.add("hidden");
            breadcrumbStudents.classList.add("hidden");
            
            if (currentCategory) {
                breadcrumbProgram.classList.remove("hidden");
                breadcrumbProgramSeparator.classList.remove("hidden");
                breadcrumbProgram.textContent = currentCategory.charAt(0).toUpperCase() + currentCategory.slice(1);
            }
            
            if (currentProgram) {
                breadcrumbStudents.classList.remove("hidden");
                breadcrumbStudents.textContent = currentProgram;
            }
        }

        // Helper to switch between student pages
        function showPage(pageId) {
            document.querySelectorAll(".student-page").forEach(p => p.classList.add("hidden"));
            document.getElementById(pageId).classList.remove("hidden");
            updateBreadcrumb();
        }

        // Step 1: Category selection
        document.querySelectorAll(".category-card").forEach(card => {
            card.addEventListener("click", () => {
                const category = card.dataset.category;
                currentCategory = category;
                if (programs[category]) {
                    // Show program choices
                    const programsList = document.getElementById("programs-list");
                    programsList.innerHTML = "";
                    programs[category].forEach(prog => {
                        const programBtn = document.createElement("div");
                        programBtn.className = "program-btn";
                        programBtn.dataset.program = prog;
                        programBtn.dataset.category = category;
                        programBtn.innerHTML = `
                            <i class="fas fa-graduation-cap"></i>
                            <div>${prog}</div>
                        `;
                        programsList.appendChild(programBtn);
                    });
                    showPage("page-programs");
                } else {
                    // Elementary goes directly
                    currentProgram = "Elementary";
                    document.getElementById("program-title").textContent = `Elementary - Student List`;
                    buildLevelTabs("Elementary", "Elementary");
                    currentFilteredStudents = students.filter(s => s.course === "Elementary" && s.category === "basic");
                    renderStudentsTable(currentFilteredStudents);
                    showPage("page-students");
                }
            });
        });

        // Step 2: Program selection
        document.addEventListener("click", (e) => {
            if (e.target.closest(".program-btn")) {
                const programBtn = e.target.closest(".program-btn");
                currentProgram = programBtn.dataset.program;
                currentCategory = programBtn.dataset.category;
                document.getElementById("program-title").textContent = `${currentProgram} - Student List`;

                // Build year/grade tabs if defined
                buildLevelTabs(currentCategory, currentProgram);

                currentFilteredStudents = students.filter(s => s.course === currentProgram && s.category === currentCategory);
                renderStudentsTable(currentFilteredStudents);
                showPage("page-students");
            }
        });

        // Breadcrumb navigation
        document.getElementById("breadcrumb-category").addEventListener("click", (e) => {
            e.preventDefault();
            showPage("page-category");
        });

        document.getElementById("breadcrumb-program").addEventListener("click", (e) => {
            e.preventDefault();
            showPage("page-programs");
        });

        document.getElementById("breadcrumb-students").addEventListener("click", (e) => {
            e.preventDefault();
            // Already on student page
        });

        // Back buttons
        document.getElementById("back-to-category").onclick = () => showPage("page-category");
        document.getElementById("back-to-programs").onclick = () => showPage("page-programs");

        // Build year/grade tabs dynamically
        function buildLevelTabs(category, program) {
            const tabsDiv = document.getElementById("year-tabs");
            tabsDiv.innerHTML = "";
            tabsDiv.classList.add("hidden");

            let tabList = null;
            if (category === "college") tabList = levels.college;
            else if (levels[program]) tabList = levels[program];
            else if (program === "Elementary" || category === "basic") tabList = levels.Elementary;

            if (tabList) {
                // Add "All" tab
                const allBtn = document.createElement("button");
                allBtn.className = "year-tab active";
                allBtn.textContent = "All";
                allBtn.onclick = () => {
                    document.querySelectorAll(".year-tab").forEach(t => t.classList.remove("active"));
                    allBtn.classList.add("active");
                    currentFilteredStudents = students.filter(s => s.course === currentProgram && s.category === currentCategory);
                    renderStudentsTable(currentFilteredStudents);
                };
                tabsDiv.appendChild(allBtn);
                
                tabList.forEach(lvl => {
                    const btn = document.createElement("button");
                    btn.className = "year-tab";
                    btn.textContent = lvl;
                    btn.onclick = () => {
                        document.querySelectorAll(".year-tab").forEach(t => t.classList.remove("active"));
                        btn.classList.add("active");
                        currentFilteredStudents = students.filter(s =>
                            s.course === currentProgram && 
                            s.category === currentCategory && 
                            s.academicYear.includes(lvl)
                        );
                        renderStudentsTable(currentFilteredStudents);
                    };
                    tabsDiv.appendChild(btn);
                });
                tabsDiv.classList.remove("hidden");
            }
        }

        // Render student table
        function renderStudentsTable(data) {
            const tbody = document.getElementById("students-table-body");
            tbody.innerHTML = "";
            if (data.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="5" class="empty-state">
                            <i class="fas fa-user-graduate"></i>
                            <p>No students found</p>
                        </td>
                    </tr>`;
            } else {
                data.forEach((st, index) => {
                    const row = document.createElement("tr");
                    row.innerHTML = `
                        <td>${st.id}</td>
                        <td>${st.name}</td>
                        <td>${st.course}</td>
                        <td>${st.academicYear}</td>
                        <td>
                            <button class="action-btn edit-btn" onclick="editStudent(${st.id})"><i class="fas fa-edit"></i> Edit</button>
                            <button class="action-btn print-btn" onclick="printStudent(${st.id})"><i class="fas fa-print"></i> Print</button>
                            <button class="action-btn delete-btn" onclick="confirmDeleteStudent(${st.id})"><i class="fas fa-trash"></i> Delete</button>
                        </td>
                    `;
                    tbody.appendChild(row);
                });
            }
        }

        // Modal functionality
        const modal = document.getElementById("studentModal");
        const closeBtn = document.querySelector(".close");
        const addBtn = document.getElementById("add-student-btn");
        const cancelBtn = document.getElementById("cancel-btn");
        const saveBtn = document.getElementById("save-student-btn");
        const deleteBtn = document.getElementById("delete-student-btn");
        const modalTitle = document.getElementById("modal-title");
        const formContainer = document.getElementById("student-form-container");

        // Show modal
        addBtn.onclick = () => { 
            editingIndex = -1; 
            loadFormTemplate();
            modalTitle.textContent = "Add Student";
            deleteBtn.classList.add("hidden");
            modal.style.display = "block"; 
        };
        
        closeBtn.onclick = () => modal.style.display = "none";
        cancelBtn.onclick = () => modal.style.display = "none";
        
        window.onclick = e => { 
            if (e.target == modal) modal.style.display = "none"; 
        };

        // Load appropriate form template based on category
        function loadFormTemplate() {
            let formHTML = '';
            
            if (currentCategory === 'college') {
                formHTML = getCollegeForm();
            } else if (currentCategory === 'tvet') {
                formHTML = getTVETForm();
            } else if (currentCategory === 'basic') {
                formHTML = getBasicEdForm();
            } else {
                formHTML = getDefaultForm();
            }
            
            formContainer.innerHTML = formHTML;
            
            // Set current date as default for date field
            const today = new Date();
            const yyyy = today.getFullYear();
            const mm = String(today.getMonth() + 1).padStart(2, '0');
            const dd = String(today.getDate()).padStart(2, '0');
            
            const dateField = document.getElementById("dateFilled");
            if (dateField) dateField.value = `${yyyy}-${mm}-${dd}`;
            
            // Initialize conditional fields
            if (typeof toggleTransfereeField === 'function') toggleTransfereeField();
            if (typeof toggleLivingWithParents === 'function') toggleLivingWithParents();
            if (typeof toggleScholarField === 'function') toggleScholarField();
            if (typeof toggleWorkingField === 'function') toggleWorkingField();
            
            // Set current date
            setCurrentDate();
        }

        // Set current date
        function setCurrentDate() {
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const dateElement = document.getElementById('currentDate');
            if (dateElement) {
                dateElement.textContent = now.toLocaleDateString('en-US', options);
            }
        }

        // Form templates for different categories
        function getCollegeForm() {
            return `
                <!-- Top area with full-width image -->
                <div class="top-placeholder">
                    <img src="https://uploads.onecompiler.io/42nz75zht/43vb4sb7w/1000023332.jpg" alt="Top Image">
                </div>
                
                <div class="form-header">
                </div>

                    </div>
                    
                    <div class="form-info">
                        <div class="form-group">
                            <label for="date">Date Filled out:</label>
                            <div id="currentDate" class="auto-date"></div>
                        </div>
                        
                        <div class="compact-row">
                            <div class="compact-group">
                                <label for="schoolYear">School Year:</label>
                                <div class="line-select-wrapper">
                                    <select id="schoolYear" name="schoolYear" class="line-select">
                                        <option>2024-2025</option>
                                        <option>2025-2026</option>
                                    </select>
                                </div>
                            </div>
                            <div class="compact-group">
                                <label for="semester">Semester:</label>
                                <div class="line-select-wrapper">
                                    <select id="semester" name="semester" class="line-select">
                                        <option>1st</option>
                                        <option>2nd</option>
                                        <option>Summer</option>
                                    </select>
                                </div>
                            </div>
                            <div class="compact-group">
                                <label for="status">Status:</label>
                                <div class="line-select-wrapper">
                                    <select id="status" name="status" class="line-select" onchange="toggleTransfereeField()">
                                        <option>Old Student</option>
                                        <option>New Student</option>
                                        <option>Transferee</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row" id="transfereeGroup" style="display: none;">
                            <div class="form-group">
                                <label for="previousSchool">If Transferee, previous school:</label>
                                <input type="text" id="previousSchool" name="previousSchool" class="line-input">
                            </div>
                        </div>
                    </div>
                </div>

                

                <!-- Personal Data -->
                <div class="section-title">PERSONAL DATA</div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="fullName">Full Name:</label>
                        <input type="text" id="fullName" name="fullName" class="line-input" placeholder="Last Name, First Name, Middle Name">
                    </div>
                    <div class="form-group">
                        <label for="course">Course:</label>
                        <div class="line-select-wrapper">
                            <select id="course" name="course" class="line-select" onchange="updateYearOptions()">
                                <option value="">Select Course</option>
                                <option value="BSIT">Bachelor of Science in Information Technology</option>
                                <option value="BSCS">Bachelor of Science in Computer Science</option>
                                <option value="BSBA">Bachelor of Science in Business Administration</option>
                                <option value="BSED">Bachelor of Science in Education</option>
                                <option value="BSN">Bachelor of Science in Nursing</option>
                                <option value="BSEE">Bachelor of Science in Electrical Engineering</option>
                                <option value="BSCE">Bachelor of Science in Civil Engineering</option>
                                <option value="BSA">Bachelor of Science in Accountancy</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="yearLevel">Year Level:</label>
                        <div class="line-select-wrapper">
                            <select id="yearLevel" name="academicYear" class="line-select">
                                <option value="">Select Year Level</option>
                                <option value="1st Year">1st Year</option>
                                <option value="2nd Year">2nd Year</option>
                                <option value="3rd Year">3nd Year</option>
                                <option value="4th Year">4th Year</option>
                                <option value="5th Year">5th Year</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="permanentAddress">Permanent Address:</label>
                        <textarea id="permanentAddress" name="permanentAddress" class="line-textarea"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="contact1">Contact Number 1:</label>
                        <input type="text" id="contact1" name="contact1" class="line-input">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="residentialAddress">Residential Address:</label>
                        <textarea id="residentialAddress" name="residentialAddress" class="line-textarea"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="contact2">Contact Number 2:</label>
                        <input type="text" id="contact2" name="contact2" class="line-input">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="placeOfBirth">Place of Birth:</label>
                        <input type="text" id="placeOfBirth" name="placeOfBirth" class="line-input">
                    </div>
                    <div class="form-group">
                        <label for="dateOfBirth">Date of Birth:</label>
                        <input type="date" id="dateOfBirth" name="dateOfBirth" class="line-input small-input">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="livingWithParents">Are you living with your parents?</label>
                        <div class="line-select-wrapper">
                            <select id="livingWithParents" name="livingWithParents" class="line-select" onchange="toggleLivingWithParents()">
                                <option>Yes</option>
                                <option>No</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" id="notLivingReasonGroup" style="display: none;">
                        <label for="notLivingReason">If not, why?</label>
                        <textarea id="notLivingReason" name="livingReason" class="line-textarea"></textarea>
                    </div>
                </div>
                
                <!-- Boarding house section - now always visible -->
                <div class="form-row" id="boardingGroup">
                    <div class="form-group">
                        <label for="boardingAddress">Boarding House Address:</label>
                        <textarea id="boardingAddress" name="boardingAddress" class="line-textarea"></textarea>
                    </div>
                </div>
                
                <div class="form-row" id="landlordGroup">
                    <div class="form-group">
                        <label for="landlordName">Name of Landlord/Landlady:</label>
                        <input type="text" id="landlordName" name="landlordName" class="line-input">
                    </div>
                    <div class="form-group">
                        <label for="landlordContact">Contact Number:</label>
                        <input type="text" id="landlordContact" name="landlordContact" class="line-input">
                    </div>
                </div>

                <!-- Family Background -->
                <div class="section-title">FAMILY BACKGROUND</div>
                
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Relation</th>
                                <th>Name</th>
                                <th>Educ. Attainment</th>
                                <th>Occupation</th>
                                <th>Contact #</th>
                                <th>Address</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Father</td>
                                <td><input type="text" name="fatherName" class="line-input"></td>
                                <td>
                                    <select name="fatherEducation" class="line-select">
                                        <option>Elementary</option>
                                        <option>High School</option>
                                        <option>College</option>
                                        <option>Vocational</option>
                                        <option>Post Graduate</option>
                                    </select>
                                </td>
                                <td><input type="text" name="fatherOccupation" class="line-input"></td>
                                <td><input type="text" name="fatherContact" class="line-input"></td>
                                <td><textarea name="fatherAddress" class="line-textarea"></textarea></td>
                            </tr>
                            <tr>
                                <td>Mother</td>
                                <td><input type="text" name="motherName" class="line-input"></td>
                                <td>
                                    <select name="motherEducation" class="line-select">
                                        <option>Elementary</option>
                                        <option>High School</option>
                                        <option>College</option>
                                        <option>Vocational</option>
                                        <option>Post Graduate</option>
                                    </select>
                                </td>
                                <td><input type="text" name="motherOccupation" class="line-input"></td>
                                <td><input type="text" name="motherContact" class="line-input"></td>
                                <td><textarea name="motherAddress" class="line-textarea"></textarea></td>
                            </tr>
                            <tr>
                                <td>Guardian</td>
                                <td><input type="text" name="guardianName" class="line-input"></td>
                                <td>
                                    <select name="guardianEducation" class="line-select">
                                        <option>Elementary</option>
                                        <option>High School</option>
                                        <option>College</option>
                                        <option>Vocational</option>
                                        <option>Post Graduate</option>
                                    </select>
                                </td>
                                <td><input type="text" name="guardianOccupation" class="line-input"></td>
                                <td><input type="text" name="guardianContact" class="line-input"></td>
                                <td><textarea name="guardianAddress" class="line-textarea"></textarea></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <p style="margin: 15px 0; font-weight: bold;">Name of Siblings (Include Yourself in Chronological Order)</p>
                
                <div class="table-responsive">
                    <table id="siblingsTable">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Educ. Attainment</th>
                                <th>Occupation</th>
                                <th>Contact #</th>
                                <th>Address</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="text" name="siblingName[]" class="line-input"></td>
                                <td>
                                    <select name="siblingEducation[]" class="line-select">
                                        <option>Elementary</option>
                                        <option>High School</option>
                                        <option>College</option>
                                        <option>Vocational</option>
                                        <option>Post Graduate</option>
                                    </select>
                                </td>
                                <td><input type="text" name="siblingOccupation[]" class="line-input"></td>
                                <td><input type="text" name="siblingContact[]" class="line-input"></td>
                                <td><textarea name="siblingAddress[]" class="line-textarea"></textarea></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <button type="button" class="btn" onclick="addSibling()">+ Add Sibling</button>

                <!-- Family Income -->
                <div class="section-title">FAMILY INCOME</div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="monthlyIncome">Estimated Monthly Income:</label>
                        <div class="line-select-wrapper">
                            <select id="monthlyIncome" name="monthlyIncome" class="line-select">
                                <option>Below ₱10,000</option>
                                <option>₱10,000 – ₱20,000</option>
                                <option>₱20,001 – ₱40,000</option>
                                <option>₱40,001 – ₱60,000</option>
                                <option>₱60,001 – ₱100,000</option>
                                <option>Above ₱100,000</option>
                            </select>
                            </div>
                    </div>
                </div>
                
                <!-- Who supports the family and Source of income -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="familySupport">Who supports the family?</label>
                        <input type="text" id="familySupport" name="familySupport" class="line-input">
                    </div>
                    <div class="form-group">
                        <label for="incomeSource">Source of income:</label>
                        <input type="text" id="incomeSource" name="incomeSource" class="line-input">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="scholar">Are you a scholar?</label>
                        <div class="line-select-wrapper">
                            <select id="scholar" name="isScholar" class="line-select" onchange="toggleScholarSpecify()">
                                <option value="No">No</option>
                                <option value="Yes">Yes</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" id="scholarSpecifyGroup" style="display: none;">
                        <label for="scholarType">Type of Scholarship:</label>
                        <div class="line-select-wrapper">
                            <select id="scholarType" name="scholarType" class="line-select">
                                <option>Academic Scholarship</option>
                                <option>Sports Scholarship</option>
                                <option>Cultural Scholarship</option>
                                <option>Government Scholarship</option>
                                <option>Private Scholarship</option>
                                <option>Other</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="workingStudent">Are you a working student?</label>
                        <div class="line-select-wrapper">
                            <select id="workingStudent" name="isWorking" class="line-select" onchange="toggleWorkingStudent()">
                                <option>No</option>
                                <option>Yes</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" id="workPlaceGroup" style="display: none;">
                        <label for="workPlace">If yes, where?</label>
                        <textarea id="workPlace" name="workPlace" class="line-textarea"></textarea>
                    </div>
                </div>

                <!-- Educational Background -->
                <div class="section-title">EDUCATIONAL BACKGROUND</div>
                
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Level</th>
                                <th>Year</th>
                                <th>School</th>
                                <th>Awards received</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Kinder</td>
                                <td>
                                    <div class="line-select-wrapper year-dropdown">
                                        <select class="line-select" name="kinderYear">
                                            <option>2020</option>
                                            <option>2019</option>
                                            <option>2018</option>
                                            <option>2017</option>
                                            <option>2016</option>
                                        </select>
                                    </div>
                                </td>
                                <td><input type="text" name="kinderSchool" class="line-input"></td>
                                <td><input type="text" name="kinderAwards" class="line-input"></td>
                            </tr>
                            <tr>
                                <td>Elementary</td>
                                <td>
                                    <div class="line-select-wrapper year-dropdown">
                                        <select class="line-select" name="elementaryYear">
                                            <option>2020</option>
                                            <option>2019</option>
                                            <option>2018</option>
                                            <option>2017</option>
                                            <option>2016</option>
                                        </select>
                                    </div>
                                </td>
                                <td><input type="text" name="elementarySchool" class="line-input"></td>
                                <td><input type="text" name="elementaryAwards" class="line-input"></td>
                            </tr>
                            <tr>
                                <td>Secondary</td>
                                <td>
                                    <div class="line-select-wrapper year-dropdown">
                                        <select class="line-select" name="secondaryYear">
                                            <option>2020</option>
                                            <option>2019</option>
                                            <option>2018</option>
                                            <option>2017</option>
                                            <option>2016</option>
                                        </select>
                                    </div>
                                </td>
                                <td><input type="text" name="secondarySchool" class="line-input"></td>
                                <td><input type="text" name="secondaryAwards" class="line-input"></td>
                            </tr>
                        </tbody>
                        </table>
                </div>

                <!-- Skills -->
                <div class="section-title">SKILLS, TALENTS, AND INTERESTS</div>
                
                <!-- Vertical layout for talents, skills, and sports -->
                <div class="vertical-group">
                    <label for="talents">Talents:</label>
                    <div class="vertical-select-wrapper">
                        <select id="talents" name="talents" class="line-select">
                            <option>Singing</option>
                            <option>Dancing</option>
                            <option>Acting</option>
                            <option>Drawing</option>
                            <option>Writing</option>
                            <option>Others</option>
                        </select>
                    </div>
                    
                    <label for="skills">Skills:</label>
                    <div class="vertical-select-wrapper">
                        <select id="skills" name="skills" class="line-select">
                            <option>Leadership</option>
                            <option>Computer</option>
                            <option>Cooking</option>
                            <option>Technical</option>
                            <option>Communication</option>
                            <option>Others</option>
                        </select>
                    </div>
                    
                    <label for="sports">Sports:</label>
                    <div class="vertical-select-wrapper">
                        <select id="sports" name="sports" class="line-select">
                            <option>Basketball</option>
                            <option>Volleyball</option>
                            <option>Badminton</option>
                            <option>Soccer</option>
                            <option>Swimming</option>
                            <option>Others</option>
                        </select>
                    </div>
                </div>

                <!-- Signature -->
                <div class="signature">
                    <div class="signature-line"></div>
                    <p>Student's Signature over Printed Name</p>
                </div>
            `;
        }

        function getTVETForm() {
            return `
                <!-- Top area with full-width image -->
                <div class="top-placeholder">
                    <img src="https://uploads.onecompiler.io/42nz75zht/43vb4sb7w/1000023332.jpg" alt="Top Image">
                </div>
                
                <div class="form-header">
                    <h2>TVET Student Information Form</h2>
                </div>

                <div class="photo-section">
                    <div class="photo-placeholder">
                        2x2 Picture
                    </div>
                    
                    <div class="form-info">
                        <div class="form-group">
                            <label for="date">Date Filled out:</label>
                            <div id="currentDate" class="auto-date"></div>
                        </div>
                        
                        <div class="compact-row">
                            <div class="compact-group">
                                <label for="schoolYear">School Year:</label>
                                <div class="line-select-wrapper">
                                    <select id="schoolYear" name="schoolYear" class="line-select">
                                        <option>2024-2025</option>
                                        <option>2025-2026</option>
                                    </select>
                                </div>
                            </div>
                            <div class="compact-group">
                                <label for="semester">Semester:</label>
                                <div class="line-select-wrapper">
                                    <select id="semester" name="semester" class="line-select">
                                        <option>1st</option>
                                        <option>2nd</option>
                                        <option>Summer</option>
                                    </select>
                                </div>
                            </div>
                            <div class="compact-group">
                                <label for="status">Status:</label>
                                <div class="line-select-wrapper">
                                    <select id="status" name="status" class="line-select" onchange="toggleTransfereeField()">
                                        <option>Old Student</option>
                                        <option>New Student</option>
                                        <option>Transferee</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row" id="transfereeGroup" style="display: none;">
                            <div class="form-group">
                                <label for="previousSchool">If Transferee, previous school:</label>
                                <input type="text" id="previousSchool" name="previousSchool" class="line-input">
                            </div>
                        </div>
                    </div>
                </div>

                <p style="margin: 15px 0; font-weight: bold; text-align: center;">
                    Please fill out this form accurately and completely. All information will be kept confidential.
                </p>

                <!-- Personal Data -->
                <div class="section-title">PERSONAL DATA</div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="fullName">Full Name:</label>
                        <input type="text" id="fullName" name="fullName" class="line-input" placeholder="Last Name, First Name, Middle Name">
                    </div>
                    <div class="form-group">
                        <label for="course">Course:</label>
                        <div class="line-select-wrapper">
                            <select id="course" name="course" class="line-select">
                                <option value="">Select Course</option>
                                <option value="Cookery">Cookery</option>
                                <option value="HE">Household Electrics</option>
                                <option value="BPP">Bread and Pastry Production</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="yearLevel">Year Level:</label>
                        <div class="line-select-wrapper">
                            <select id="yearLevel" name="academicYear" class="line-select">
                                <option value="">N/A</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="permanentAddress">Permanent Address:</label>
                        <textarea id="permanentAddress" name="permanentAddress" class="line-textarea"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="contact1">Contact Number 1:</label>
                        <input type="text" id="contact1" name="contact1" class="line-input">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="residentialAddress">Residential Address:</label>
                        <textarea id="residentialAddress" name="residentialAddress" class="line-textarea"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="contact2">Contact Number 2:</label>
                        <input type="text" id="contact2" name="contact2" class="line-input">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="placeOfBirth">Place of Birth:</label>
                        <input type="text" id="placeOfBirth" name="placeOfBirth" class="line-input">
                    </div>
                    <div class="form-group">
                        <label for="dateOfBirth">Date of Birth:</label>
                        <input type="date" id="dateOfBirth" name="dateOfBirth" class="line-input small-input">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="livingWithParents">Are you living with your parents?</label>
                        <div class="line-select-wrapper">
                            <select id="livingWithParents" name="livingWithParents" class="line-select" onchange="toggleLivingWithParents()">
                                <option>Yes</option>
                                <option>No</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" id="notLivingReasonGroup" style="display: none;">
                        <label for="notLivingReason">If not, why?</label>
                        <textarea id="notLivingReason" name="livingReason" class="line-textarea"></textarea>
                    </div>
                </div>
                
                <!-- Boarding house section - now always visible -->
                <div class="form-row" id="boardingGroup">
                    <div class="form-group">
                        <label for="boardingAddress">Boarding House Address:</label>
                        <textarea id="boardingAddress" name="boardingAddress" class="line-textarea"></textarea>
                    </div>
                </div>
                
                <div class="form-row" id="landlordGroup">
                    <div class="form-group">
                        <label for="landlordName">Name of Landlord/Landlady:</label>
                        <input type="text" id="landlordName" name="landlordName" class="line-input">
                    </div>
                    <div class="form-group">
                        <label for="landlordContact">Contact Number:</label>
                        <input type="text" id="landlordContact" name="landlordContact" class="line-input">
                    </div>
                </div>

                <!-- Family Background -->
                <div class="section-title">FAMILY BACKGROUND</div>
                
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Relation</th>
                                <th>Name</th>
                                <th>Educ. Attainment</th>
                                <th>Occupation</th>
                                <th>Contact #</th>
                                <th>Address</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Father</td>
                                <td><input type="text" name="fatherName" class="line-input"></td>
                                <td>
                                    <select name="fatherEducation" class="line-select">
                                        <option>Elementary</option>
                                        <option>High School</option>
                                        <option>College</option>
                                        <option>Vocational</option>
                                        <option>Post Graduate</option>
                                    </select>
                                </td>
                                <td><input type="text" name="fatherOccupation" class="line-input"></td>
                                <td><input type="text" name="fatherContact" class="line-input"></td>
                                <td><textarea name="fatherAddress" class="line-textarea"></textarea></td>
                            </tr>
                            <tr>
                                <td>Mother</td>
                                <td><input type="text" name="motherName" class="line-input"></td>
                                <td>
                                    <select name="motherEducation" class="line-select">
                                        <option>Elementary</option>
                                        <option>High School</option>
                                        <option>College</option>
                                        <option>Vocational</option>
                                        <option>Post Graduate</option>
                                    </select>
                                </td>
                                <td><input type="text" name="motherOccupation" class="line-input"></td>
                                <td><input type="text" name="motherContact" class="line-input"></td>
                                <td><textarea name="motherAddress" class="line-textarea"></textarea></td>
                            </tr>
                            <tr>
                                <td>Guardian</td>
                                <td><input type="text" name="guardianName" class="line-input"></td>
                                <td>
                                    <select name="guardianEducation" class="line-select">
                                        <option>Elementary</option>
                                        <option>High School</option>
                                        <option>College</option>
                                        <option>Vocational</option>
                                        <option>Post Graduate</option>
                                    </select>
                                </td>
                                <td><input type="text" name="guardianOccupation" class="line-input"></td>
                                <td><input type="text" name="guardianContact" class="line-input"></td>
                                <td><textarea name="guardianAddress" class="line-textarea"></textarea></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <p style="margin: 15px 0; font-weight: bold;">Name of Siblings (Include Yourself in Chronological Order)</p>
                
                <div class="table-responsive">
                    <table id="siblingsTable">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Educ. Attainment</th>
                                <th>Occupation</th>
                                <th>Contact #</th>
                                <th>Address</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="text" name="siblingName[]" class="line-input"></td>
                                <td>
                                    <select name="siblingEducation[]" class="line-select">
                                        <option>Elementary</option>
                                        <option>High School</option>
                                        <option>College</option>
                                        <option>Vocational</option>
                                        <option>Post Graduate</option>
                                    </select>
                                </td>
                                <td><input type="text" name="siblingOccupation[]" class="line-input"></td>
                                <td><input type="text" name="siblingContact[]" class="line-input"></td>
                                <td><textarea name="siblingAddress[]" class="line-textarea"></textarea></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <button type="button" class="btn" onclick="addSibling()">+ Add Sibling</button>

                <!-- Family Income -->
                <div class="section-title">FAMILY INCOME</div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="monthlyIncome">Estimated Monthly Income:</label>
                        <div class="line-select-wrapper">
                            <select id="monthlyIncome" name="monthlyIncome" class="line-select">
                                <option>Below ₱10,000</option>
                                <option>₱10,000 – ₱20,000</option>
                                <option>₱20,001 – ₱40,000</option>
                                <option>₱40,001 – ₱60,000</option>
                                <option>₱60,001 – ₱100,000</option>
                                <option>Above ₱100,000</option>
                            </select>
                            </div>
                    </div>
                </div>
                
                <!-- Who supports the family and Source of income -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="familySupport">Who supports the family?</label>
                        <input type="text" id="familySupport" name="familySupport" class="line-input">
                    </div>
                    <div class="form-group">
                        <label for="incomeSource">Source of income:</label>
                        <input type="text" id="incomeSource" name="incomeSource" class="line-input">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="scholar">Are you a scholar?</label>
                        <div class="line-select-wrapper">
                            <select id="scholar" name="isScholar" class="line-select" onchange="toggleScholarSpecify()">
                                <option value="No">No</option>
                                <option value="Yes">Yes</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" id="scholarSpecifyGroup" style="display: none;">
                        <label for="scholarType">Type of Scholarship:</label>
                        <div class="line-select-wrapper">
                            <select id="scholarType" name="scholarType" class="line-select">
                                <option>Academic Scholarship</option>
                                <option>Sports Scholarship</option>
                                <option>Cultural Scholarship</option>
                                <option>Government Scholarship</option>
                                <option>Private Scholarship</option>
                                <option>Other</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="workingStudent">Are you a working student?</label>
                        <div class="line-select-wrapper">
                            <select id="workingStudent" name="isWorking" class="line-select" onchange="toggleWorkingStudent()">
                                <option>No</option>
                                <option>Yes</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" id="workPlaceGroup" style="display: none;">
                        <label for="workPlace">If yes, where?</label>
                        <textarea id="workPlace" name="workPlace" class="line-textarea"></textarea>
                    </div>
                </div>

                <!-- Educational Background -->
                <div class="section-title">EDUCATIONAL BACKGROUND</div>
                
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Level</th>
                                <th>Year</th>
                                <th>School</th>
                                <th>Awards received</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Kinder</td>
                                <td>
                                    <div class="line-select-wrapper year-dropdown">
                                        <select class="line-select" name="kinderYear">
                                            <option>2020</option>
                                            <option>2019</option>
                                            <option>2018</option>
                                            <option>2017</option>
                                            <option>2016</option>
                                        </select>
                                    </div>
                                </td>
                                <td><input type="text" name="kinderSchool" class="line-input"></td>
                                <td><input type="text" name="kinderAwards" class="line-input"></td>
                            </tr>
                            <tr>
                                <td>Elementary</td>
                                <td>
                                    <div class="line-select-wrapper year-dropdown">
                                        <select class="line-select" name="elementaryYear">
                                            <option>2020</option>
                                            <option>2019</option>
                                            <option>2018</option>
                                            <option>2017</option>
                                            <option>2016</option>
                                        </select>
                                    </div>
                                </td>
                                <td><input type="text" name="elementarySchool" class="line-input"></td>
                                <td><input type="text" name="elementaryAwards" class="line-input"></td>
                            </tr>
                            <tr>
                                <td>Secondary</td>
                                <td>
                                    <div class="line-select-wrapper year-dropdown">
                                        <select class="line-select" name="secondaryYear">
                                            <option>2020</option>
                                            <option>2019</option>
                                            <option>2018</option>
                                            <option>2017</option>
                                            <option>2016</option>
                                        </select>
                                    </div>
                                </td>
                                <td><input type="text" name="secondarySchool" class="line-input"></td>
                                <td><input type="text" name="secondaryAwards" class="line-input"></td>
                            </tr>
                        </tbody>
                        </table>
                </div>

                <!-- Skills -->
                <div class="section-title">SKILLS, TALENTS, AND INTERESTS</div>
                
                <!-- Vertical layout for talents, skills, and sports -->
                <div class="vertical-group">
                    <label for="talents">Talents:</label>
                    <div class="vertical-select-wrapper">
                        <select id="talents" name="talents" class="line-select">
                            <option>Singing</option>
                            <option>Dancing</option>
                            <option>Acting</option>
                            <option>Drawing</option>
                            <option>Writing</option>
                            <option>Others</option>
                        </select>
                    </div>
                    
                    <label for="skills">Skills:</label>
                    <div class="vertical-select-wrapper">
                        <select id="skills" name="skills" class="line-select">
                            <option>Leadership</option>
                            <option>Computer</option>
                            <option>Cooking</option>
                            <option>Technical</option>
                            <option>Communication</option>
                            <option>Others</option>
                        </select>
                    </div>
                    
                    <label for="sports">Sports:</label>
                    <div class="vertical-select-wrapper">
                        <select id="sports" name="sports" class="line-select">
                            <option>Basketball</option>
                            <option>Volleyball</option>
                            <option>Badminton</option>
                            <option>Soccer</option>
                            <option>Swimming</option>
                            <option>Others</option>
                        </select>
                    </div>
                </div>

                <!-- Signature -->
                <div class="signature">
                    <div class="signature-line"></div>
                    <p>Student's Signature over Printed Name</p>
                </div>
            `;
        }

        function getBasicEdForm() {
            return `
                <!-- Top area with full-width image -->
                <div class="top-placeholder">
                    <img src="https://uploads.onecompiler.io/42nz75zht/43vb4sb7w/1000023332.jpg" alt="Top Image">
                </div>
                
                <div class="form-header">
                    <h2>Basic Education Student Information Form</h2>
                </div>

                <div class="photo-section">
                    <div class="photo-placeholder">
                        2x2 Picture
                    </div>
                    
                    <div class="form-info">
                        <div class="form-group">
                            <label for="date">Date Filled out:</label>
                            <div id="currentDate" class="auto-date"></div>
                        </div>
                        
                        <div class="compact-row">
                            <div class="compact-group">
                                <label for="schoolYear">School Year:</label>
                                <div class="line-select-wrapper">
                                    <select id="schoolYear" name="schoolYear" class="line-select">
                                        <option>2024-2025</option>
                                        <option>2025-2026</option>
                                    </select>
                                </div>
                            </div>
                            <div class="compact-group">
                                <label for="gradeLevel">Grade Level:</label>
                                <div class="line-select-wrapper">
                                    <select id="gradeLevel" name="academicYear" class="line-select">
                                        <option>Grade 1</option>
                                        <option>Grade 2</option>
                                        <option>Grade 3</option>
                                        <option>Grade 4</option>
                                        <option>Grade 5</option>
                                        <option>Grade 6</option>
                                        <option>Grade 7</option>
                                        <option>Grade 8</option>
                                        <option>Grade 9</option>
                                        <option>Grade 10</option>
                                        <option>Grade 11</option>
                                        <option>Grade 12</option>
                                    </select>
                                </div>
                            </div>
                            <div class="compact-group">
                                <label for="status">Status:</label>
                                <div class="line-select-wrapper">
                                    <select id="status" name="status" class="line-select" onchange="toggleTransfereeField()">
                                        <option>Old Student</option>
                                        <option>New Student</option>
                                        <option>Transferee</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row" id="transfereeGroup" style="display: none;">
                            <div class="form-group">
                                <label for="previousSchool">If Transferee, previous school:</label>
                                <input type="text" id="previousSchool" name="previousSchool" class="line-input">
                            </div>
                        </div>
                    </div>
                </div>

                <p style="margin: 15px 0; font-weight: bold; text-align: center;">
                    Please fill out this form accurately and completely. All information will be kept confidential.
                </p>

                <!-- Basic Education-specific form fields would go here -->
                <div class="section-title">BASIC EDUCATION INFORMATION</div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="course">Program:</label>
                        <div class="line-select-wrapper">
                            <select id="course" name="course" class="line-select">
                                <option value="Elementary">Elementary</option>
                                <option value="JHS">Junior High School</option>
                                <option value="SHS">Senior High School</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="strandTrack">Strand/Track (SHS only):</label>
                        <input type="text" id="strandTrack" name="strandTrack" class="line-input">
                    </div>
                </div>
                
                <!-- Personal Data -->
                <div class="section-title">PERSONAL DATA</div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="fullName">Full Name:</label>
                        <input type="text" id="fullName" name="fullName" class="line-input" placeholder="Last Name, First Name, Middle Name">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="permanentAddress">Permanent Address:</label>
                        <textarea id="permanentAddress" name="permanentAddress" class="line-textarea"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="contact1">Contact Number 1:</label>
                        <input type="text" id="contact1" name="contact1" class="line-input">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="residentialAddress">Residential Address:</label>
                        <textarea id="residentialAddress" name="residentialAddress" class="line-textarea"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="contact2">Contact Number 2:</label>
                        <input type="text" id="contact2" name="contact2" class="line-input">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="placeOfBirth">Place of Birth:</label>
                        <input type="text" id="placeOfBirth" name="placeOfBirth" class="line-input">
                    </div>
                    <div class="form-group">
                        <label for="dateOfBirth">Date of Birth:</label>
                        <input type="date" id="dateOfBirth" name="dateOfBirth" class="line-input small-input">
                    </div>
                </div>

                <!-- Family Background -->
                <div class="section-title">FAMILY BACKGROUND</div>
                
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Relation</th>
                                <th>Name</th>
                                <th>Educ. Attainment</th>
                                <th>Occupation</th>
                                <th>Contact #</th>
                                <th>Address</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Father</td>
                                <td><input type="text" name="fatherName" class="line-input"></td>
                                <td>
                                    <select name="fatherEducation" class="line-select">
                                        <option>Elementary</option>
                                        <option>High School</option>
                                        <option>College</option>
                                        <option>Vocational</option>
                                        <option>Post Graduate</option>
                                    </select>
                                </td>
                                <td><input type="text" name="fatherOccupation" class="line-input"></td>
                                <td><input type="text" name="fatherContact" class="line-input"></td>
                                <td><textarea name="fatherAddress" class="line-textarea"></textarea></td>
                            </tr>
                            <tr>
                                <td>Mother</td>
                                <td><input type="text" name="motherName" class="line-input"></td>
                                <td>
                                    <select name="motherEducation" class="line-select">
                                        <option>Elementary</option>
                                        <option>High School</option>
                                        <option>College</option>
                                        <option>Vocational</option>
                                        <option>Post Graduate</option>
                                    </select>
                                </td>
                                <td><input type="text" name="motherOccupation" class="line-input"></td>
                                <td><input type="text" name="motherContact" class="line-input"></td>
                                <td><textarea name="motherAddress" class="line-textarea"></textarea></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Signature -->
                <div class="signature">
                    <div class="signature-line"></div>
                    <p>Student's Signature over Printed Name</p>
                </div>
            `;
        }

        function getDefaultForm() {
            return `
                <div class="form-header">
                    <div class="form-logo">SCHOOL LOGO</div>
                    <div>
                        <h3>STUDENT INFORMATION FORM</h3>
                    </div>
                    <div class="form-pic">2x2 Picture</div>
                </div>

                <div class="form-section">
                    <h3>BASIC INFORMATION</h3>
                    <div class="form-field-row">
                        <label>Full Name:</label>
                        <input type="text" id="fullName" name="fullName" placeholder="Last Name, First Name, Middle Name">
                    </div>
                    <div class="form-field-row">
                        <label>Program/Course:</label>
                        <input type="text" id="course" name="course">
                    </div>
                    <div class="form-field-row">
                        <label>Year Level:</label>
                        <input type="text" id="academicYear" name="academicYear">
                    </div>
                </div>
            `;
        }

        // Add sibling row
        window.addSibling = function() {
            const table = document.getElementById("siblingsTable");
            const row = table.insertRow();
            row.innerHTML = `
                <td><input type="text" name="siblingName[]" class="line-input"></td>
                <td>
                    <select name="siblingEducation[]" class="line-select">
                        <option>Elementary</option>
                        <option>High School</option>
                        <option>College</option>
                        <option>Vocational</option>
                        <option>Post Graduate</option>
                    </select>
                </td>
                <td><input type="text" name="siblingOccupation[]" class="line-input"></td>
                <td><input type="text" name="siblingContact[]" class="line-input"></td>
                <td><textarea name="siblingAddress[]" class="line-textarea"></textarea></td>
            `;
        };

        // Toggle fields based on selections
        window.toggleTransfereeField = function() {
            const statusSelect = document.getElementById("status");
            const previousSchool = document.getElementById("previousSchool");
            if (statusSelect && statusSelect.value === "Transferee") {
                previousSchool.style.display = "block";
                previousSchool.parentElement.style.display = "flex";
            } else if (previousSchool) {
                previousSchool.style.display = "none";
            }
        };

        window.toggleLivingWithParents = function() {
            const livingSelect = document.getElementById("livingWithParents");
            const notLivingReasonGroup = document.getElementById("notLivingReasonGroup");
            if (livingSelect && livingSelect.value === "No") {
                notLivingReasonGroup.style.display = "block";
                notLivingReasonGroup.parentElement.style.display = "flex";
            } else if (notLivingReasonGroup) {
                notLivingReasonGroup.style.display = "none";
            }
        };

        window.toggleScholarSpecify = function() {
            const scholarSelect = document.getElementById("scholar");
            const scholarSpecifyGroup = document.getElementById("scholarSpecifyGroup");
            
            if (scholarSelect && scholarSelect.value === "Yes") {
                scholarSpecifyGroup.style.display = "block";
            } else if (scholarSpecifyGroup) {
                scholarSpecifyGroup.style.display = "none";
            }
        };

        window.toggleWorkingStudent = function() {
            const workingSelect = document.getElementById("workingStudent");
            const workPlaceGroup = document.getElementById("workPlaceGroup");
            if (workingSelect && workingSelect.value === "Yes") {
                workPlaceGroup.style.display = "block";
                workPlaceGroup.parentElement.style.display = "flex";
            } else if (workPlaceGroup) {
                workPlaceGroup.style.display = "none";
            }
        };

        window.updateYearOptions = function() {
            const courseSelect = document.getElementById("course");
            const yearSelect = document.getElementById("yearLevel");
            
            // Clear existing options except the first one
            while (yearSelect.options.length > 1) {
                yearSelect.remove(1);
            }
            
            // Add appropriate year levels based on course
            const course = courseSelect.value;
            
            if (course === "BSN" || course === "BSEE" || course === "BSCE") {
                // 5-year courses
                for (let i = 1; i <= 5; i++) {
                    const option = document.createElement("option");
                    option.value = i === 1 ? "1st Year" : i === 2 ? "2nd Year" : i === 3 ? "3rd Year" : i + "th Year";
                    option.textContent = i === 1 ? "1st Year" : i === 2 ? "2nd Year" : i === 3 ? "3rd Year" : i + "th Year";
                    yearSelect.appendChild(option);
                }
            } else {
                // 4-year courses
                for (let i = 1; i <= 4; i++) {
                    const option = document.createElement("option");
                    option.value = i === 1 ? "1st Year" : i === 2 ? "2nd Year" : i === 3 ? "3rd Year" : i + "th Year";
                    option.textContent = i === 1 ? "1st Year" : i === 2 ? "2nd Year" : i === 3 ? "3rd Year" : i + "th Year";
                    yearSelect.appendChild(option);
                }
            }
        };

        // Save student
        saveBtn.onclick = () => {
            // Collect all form data
            const formData = {};
            document.querySelectorAll('#studentModal input, #studentModal select, #studentModal textarea').forEach(field => {
                if (field.name && field.type !== 'button') {
                    if (field.name.endsWith('[]')) {
                        if (!formData[field.name]) formData[field.name] = [];
                        formData[field.name].push(field.value);
                    } else {
                        formData[field.name] = field.value;
                    }
                }
            });

            // Create student object
            const nameParts = formData.fullName ? formData.fullName.split(',') : ['', '', ''];
            const student = {
                id: editingIndex > -1 ? students[editingIndex].id : students.length + 1,
                name: formData.fullName || 'New Student',
                course: formData.course || currentProgram,
                academicYear: formData.academicYear || '',
                category: currentCategory,
                full: formData,
                lastName: nameParts[0] || '',
                firstName: nameParts[1] || '',
                middleName: nameParts[2] || ''
            };
            
            if (editingIndex > -1) {
                students[editingIndex] = student;
                showToast("Student updated successfully!");
            } else {
                students.push(student);
                showToast("Student added successfully!");
            }
            
            saveStudentsToStorage();
            currentFilteredStudents = students.filter(s => s.course === currentProgram && s.category === currentCategory);
            renderStudentsTable(currentFilteredStudents);
            modal.style.display = "none";
        };

        window.editStudent = id => {
            editingIndex = students.findIndex(s => s.id === id);
            if (editingIndex === -1) return;
            
            const student = students[editingIndex];
            currentCategory = student.category;
            currentProgram = student.course;
            
            loadFormTemplate();
            
            // Populate form fields
            const data = student.full;
            for (const key in data) {
                const field = document.querySelector(`[name="${key}"]`);
                if (field) {
                    if (Array.isArray(data[key])) {
                        // Handle array fields (like siblings)
                        data[key].forEach((value, index) => {
                            if (index > 0) addSibling();
                            const fields = document.querySelectorAll(`[name="${key}"]`);
                            if (fields[index]) fields[index].value = value;
                        });
                    } else {
                        field.value = data[key];
                    }
                }
            }
            
            modalTitle.textContent = "Edit Student";
            deleteBtn.classList.remove("hidden");
            modal.style.display = "block";
        };

        window.confirmDeleteStudent = id => {
            const confirmModal = document.getElementById("confirmationModal");
            const confirmBtn = document.getElementById("confirm-delete-btn");
            const cancelBtn = document.getElementById("cancel-delete-btn");
            
            confirmBtn.onclick = () => {
                students = students.filter(s => s.id !== id);
                saveStudentsToStorage();
                currentFilteredStudents = students.filter(s => s.course === currentProgram && s.category === currentCategory);
                renderStudentsTable(currentFilteredStudents);
                confirmModal.style.display = "none";
                showToast("Student deleted successfully!");
            };
            
            cancelBtn.onclick = () => {
                confirmModal.style.display = "none";
            };
            
            confirmModal.style.display = "block";
        };

        // Create category-specific print templates
        function getCollegePrintTemplate(student) {
            return `
                <div class="college-print">
                    <div class="header">
                        <div class="title">
                        </div>
                                        <div class="top-placeholder">
                    <img src="https://uploads.onecompiler.io/42nz75zht/43vb4sb7w/1000023332.jpg" alt="Top Image">
                </div>

                    </div>
                    
                    <div class="section">
                        <div class="section-title">BASIC INFORMATION</div>
                        <div class="row">
                            <div class="label">Date Filled out:</div>
                            <div class="value">${student.full.dateFilled || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">School Year:</div>
                            <div class="value">${student.full.schoolYear || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Semester:</div>
                            <div class="value">${student.full.semester || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Status:</div>
                            <div class="value">${student.full.status || ''}</div>
                        </div>
                        ${student.full.previousSchool ? `
                        <div class="row">
                            <div class="label">Previous School (if transferee):</div>
                            <div class="value">${student.full.previousSchool || ''}</div>
                        </div>
                        ` : ''}
                    </div>
                    
                    <div class="section">
                        <div class="section-title">PERSONAL DATA</div>
                        <div class="row">
                            <div class="label">Full Name:</div>
                            <div class="value">${student.full.fullName || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Course & Year:</div>
                            <div class="value">${student.course} - ${student.academicYear}</div>
                        </div>
                        <div class="row">
                            <div class="label">Permanent Address:</div>
                            <div class="value">${student.full.permanentAddress || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Residential Address:</div>
                            <div class="value">${student.full.residentialAddress || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Place of Birth:</div>
                            <div class="value">${student.full.placeOfBirth || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Date of Birth:</div>
                            <div class="value">${student.full.dateOfBirth || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Contact Number 1:</div>
                            <div class="value">${student.full.contact1 || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Contact Number 2:</div>
                            <div class="value">${student.full.contact2 || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Living with Parents:</div>
                            <div class="value">${student.full.livingWithParents || ''}</div>
                        </div>
                        ${student.full.livingReason ? `
                        <div class="row">
                            <div class="label">Reason for not living with parents:</div>
                            <div class="value">${student.full.livingReason || ''}</div>
                        </div>
                        ` : ''}
                        ${student.full.boardingAddress ? `
                        <div class="row">
                            <div class="label">Boarding House Address:</div>
                            <div class="value">${student.full.boardingAddress || ''}</div>
                        </div>
                        ` : ''}
                        ${student.full.landlordName ? `
                        <div class="row">
                            <div class="label">Landlord/Landlady Name:</div>
                            <div class="value">${student.full.landlordName || ''}</div>
                        </div>
                        ` : ''}
                        ${student.full.landlordContact ? `
                        <div class="row">
                            <div class="label">Landlord Contact:</div>
                            <div class="value">${student.full.landlordContact || ''}</div>
                        </div>
                        ` : ''}
                    </div>
                    
                    <div class="section">
                        <div class="section-title">FAMILY BACKGROUND</div>
                        <table>
                            <tr>
                                <th>Relation</th>
                                <th>Name</th>
                                <th>Educ. Attainment</th>
                                <th>Occupation</th>
                                <th>Contact #</th>
                                <th>Address</th>
                            </tr>
                            <tr>
                                <td>Father</td>
                                <td>${student.full.fatherName || ''}</td>
                                <td>${student.full.fatherEducation || ''}</td>
                                <td>${student.full.fatherOccupation || ''}</td>
                                <td>${student.full.fatherContact || ''}</td>
                                <td>${student.full.fatherAddress || ''}</td>
                            </tr>
                            <tr>
                                <td>Mother</td>
                                <td>${student.full.motherName || ''}</td>
                                <td>${student.full.motherEducation || ''}</td>
                                <td>${student.full.motherOccupation || ''}</td>
                                <td>${student.full.motherContact || ''}</td>
                                <td>${student.full.motherAddress || ''}</td>
                            </tr>
                            ${student.full.guardianName ? `
                            <tr>
                                <td>Guardian</td>
                                <td>${student.full.guardianName || ''}</td>
                                <td>${student.full.guardianEducation || ''}</td>
                                <td>${student.full.guardianOccupation || ''}</td>
                                <td>${student.full.guardianContact || ''}</td>
                                <td>${student.full.guardianAddress || ''}</td>
                            </tr>
                            ` : ''}
                        </table>
                    </div>
                    
                    <div class="section">
                        <div class="section-title">FAMILY INCOME</div>
                        <div class="row">
                            <div class="label">Estimated Monthly Income:</div>
                            <div class="value">${student.full.monthlyIncome || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Scholar:</div>
                            <div class="value">${student.full.isScholar || ''}</div>
                        </div>
                        ${student.full.scholarType ? `
                        <div class="row">
                            <div class="label">Scholar Type:</div>
                            <div class="value">${student.full.scholarType || ''}</div>
                        </div>
                        ` : ''}
                        <div class="row">
                            <div class="label">Working Student:</div>
                            <div class="value">${student.full.isWorking || ''}</div>
                        </div>
                        ${student.full.workPlace ? `
                        <div class="row">
                            <div class="label">Work Place:</div>
                            <div class="value">${student.full.workPlace || ''}</div>
                        </div>
                        ` : ''}
                    </div>
                    
                    <div class="section">
                        <div class="section-title">SKILLS, TALENTS, AND INTERESTS</div>
                        <div class="row">
                            <div class="label">Talents:</div>
                            <div class="value">${student.full.talents || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Skills:</div>
                            <div class="value">${student.full.skills || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Sports:</div>
                            <div class="value">${student.full.sports || ''}</div>
                        </div>
                    </div>
                    
                    <div class="signature">
                        <div class="signature-line"></div>
                        <p>Student's Signature over Printed Name</p>
                    </div>
                </div>
            `;
        }

        function getTVETPrintTemplate(student) {
            return `
                <div class="tvet-print">
                    <div class="header">
                        <div class="logo">SCHOOL LOGO</div>
                        <div class="title">
                            <h3>SAINT JOHN BOSCO COLLEGE OF NORTHERN LUZON, INC.</h3>
                            <h3>GUIDANCE OFFICE<br>TVET STUDENT INVENTORY</h3>
                        </div>
                        <div class="photo">2x2 Picture</div>
                    </div>
                    
                    <div class="section">
                        <div class="section-title">BASIC INFORMATION</div>
                        <div class="row">
                            <div class="label">Date Filled out:</div>
                            <div class="value">${student.full.dateFilled || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">School Year:</div>
                            <div class="value">${student.full.schoolYear || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Semester:</div>
                            <div class="value">${student.full.semester || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Status:</div>
                            <div class="value">${student.full.status || ''}</div>
                        </div>
                        ${student.full.previousSchool ? `
                        <div class="row">
                            <div class="label">Previous School (if transferee):</div>
                            <div class="value">${student.full.previousSchool || ''}</div>
                        </div>
                        ` : ''}
                    </div>
                    
                    <div class="section">
                        <div class="section-title">PERSONAL DATA</div>
                        <div class="row">
                            <div class="label">Full Name:</div>
                            <div class="value">${student.full.fullName || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Course:</div>
                            <div class="value">${student.course}</div>
                        </div>
                        <div class="row">
                            <div class="label">Permanent Address:</div>
                            <div class="value">${student.full.permanentAddress || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Residential Address:</div>
                            <div class="value">${student.full.residentialAddress || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Place of Birth:</div>
                            <div class="value">${student.full.placeOfBirth || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Date of Birth:</div>
                            <div class="value">${student.full.dateOfBirth || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Contact Number 1:</div>
                            <div class="value">${student.full.contact1 || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Contact Number 2:</div>
                            <div class="value">${student.full.contact2 || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Living with Parents:</div>
                            <div class="value">${student.full.livingWithParents || ''}</div>
                        </div>
                        ${student.full.livingReason ? `
                        <div class="row">
                            <div class="label">Reason for not living with parents:</div>
                            <div class="value">${student.full.livingReason || ''}</div>
                        </div>
                        ` : ''}
                        ${student.full.boardingAddress ? `
                        <div class="row">
                            <div class="label">Boarding House Address:</div>
                            <div class="value">${student.full.boardingAddress || ''}</div>
                        </div>
                        ` : ''}
                        ${student.full.landlordName ? `
                        <div class="row">
                            <div class="label">Landlord/Landlady Name:</div>
                            <div class="value">${student.full.landlordName || ''}</div>
                        </div>
                        ` : ''}
                        ${student.full.landlordContact ? `
                        <div class="row">
                            <div class="label">Landlord Contact:</div>
                            <div class="value">${student.full.landlordContact || ''}</div>
                        </div>
                        ` : ''}
                    </div>
                    
                    <div class="section">
                        <div class="section-title">FAMILY BACKGROUND</div>
                        <table>
                            <tr>
                                <th>Relation</th>
                                <th>Name</th>
                                <th>Educ. Attainment</th>
                                <th>Occupation</th>
                                <th>Contact #</th>
                                <th>Address</th>
                            </tr>
                            <tr>
                                <td>Father</td>
                                <td>${student.full.fatherName || ''}</td>
                                <td>${student.full.fatherEducation || ''}</td>
                                <td>${student.full.fatherOccupation || ''}</td>
                                <td>${student.full.fatherContact || ''}</td>
                                <td>${student.full.fatherAddress || ''}</td>
                            </tr>
                            <tr>
                                <td>Mother</td>
                                <td>${student.full.motherName || ''}</td>
                                <td>${student.full.motherEducation || ''}</td>
                                <td>${student.full.motherOccupation || ''}</td>
                                <td>${student.full.motherContact || ''}</td>
                                <td>${student.full.motherAddress || ''}</td>
                            </tr>
                            ${student.full.guardianName ? `
                            <tr>
                                <td>Guardian</td>
                                <td>${student.full.guardianName || ''}</td>
                                <td>${student.full.guardianEducation || ''}</td>
                                <td>${student.full.guardianOccupation || ''}</td>
                                <td>${student.full.guardianContact || ''}</td>
                                <td>${student.full.guardianAddress || ''}</td>
                            </tr>
                            ` : ''}
                        </table>
                    </div>
                    
                    <div class="section">
                        <div class="section-title">FAMILY INCOME</div>
                        <div class="row">
                            <div class="label">Estimated Monthly Income:</div>
                            <div class="value">${student.full.monthlyIncome || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Scholar:</div>
                            <div class="value">${student.full.isScholar || ''}</div>
                        </div>
                        ${student.full.scholarType ? `
                        <div class="row">
                            <div class="label">Scholar Type:</div>
                            <div class="value">${student.full.scholarType || ''}</div>
                        </div>
                        ` : ''}
                        <div class="row">
                            <div class="label">Working Student:</div>
                            <div class="value">${student.full.isWorking || ''}</div>
                        </div>
                        ${student.full.workPlace ? `
                        <div class="row">
                            <div class="label">Work Place:</div>
                            <div class="value">${student.full.workPlace || ''}</div>
                        </div>
                        ` : ''}
                    </div>
                    
                    <div class="section">
                        <div class="section-title">SKILLS, TALENTS, AND INTERESTS</div>
                        <div class="row">
                            <div class="label">Talents:</div>
                            <div class="value">${student.full.talents || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Skills:</div>
                            <div class="value">${student.full.skills || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Sports:</div>
                            <div class="value">${student.full.sports || ''}</div>
                        </div>
                    </div>
                    
                    <div class="signature">
                        <div class="signature-line"></div>
                        <p>Student's Signature over Printed Name</p>
                    </div>
                </div>
            `;
        }

        function getBasicEdPrintTemplate(student) {
            return `
                <div class="basic-print">
                    <div class="header">
                        <div class="logo">SCHOOL LOGO</div>
                        <div class="title">
                            <h3>SAINT JOHN BOSCO COLLEGE OF NORTHERN LUZON, INC.</h3>
                            <h3>GUIDANCE OFFICE<br>BASIC EDUCATION STUDENT INVENTORY</h3>
                        </div>
                        <div class="photo">2x2 Picture</div>
                    </div>
                    
                    <div class="section">
                        <div class="section-title">BASIC INFORMATION</div>
                        <div class="row">
                            <div class="label">Date Filled out:</div>
                            <div class="value">${student.full.dateFilled || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">School Year:</div>
                            <div class="value">${student.full.schoolYear || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Grade Level:</div>
                            <div class="value">${student.academicYear}</div>
                        </div>
                        <div class="row">
                            <div class="label">Status:</div>
                            <div class="value">${student.full.status || ''}</div>
                        </div>
                        ${student.full.previousSchool ? `
                        <div class="row">
                            <div class="label">Previous School (if transferee):</div>
                            <div class="value">${student.full.previousSchool || ''}</div>
                        </div>
                        ` : ''}
                        <div class="row">
                            <div class="label">Program:</div>
                            <div class="value">${student.course}</div>
                        </div>
                        ${student.full.strandTrack ? `
                        <div class="row">
                            <div class="label">Strand/Track:</div>
                            <div class="value">${student.full.strandTrack || ''}</div>
                        </div>
                        ` : ''}
                    </div>
                    
                    <div class="section">
                        <div class="section-title">PERSONAL DATA</div>
                        <div class="row">
                            <div class="label">Full Name:</div>
                            <div class="value">${student.full.fullName || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Permanent Address:</div>
                            <div class="value">${student.full.permanentAddress || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Residential Address:</div>
                            <div class="value">${student.full.residentialAddress || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Place of Birth:</div>
                            <div class="value">${student.full.placeOfBirth || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Date of Birth:</div>
                            <div class="value">${student.full.dateOfBirth || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Contact Number 1:</div>
                            <div class="value">${student.full.contact1 || ''}</div>
                        </div>
                        <div class="row">
                            <div class="label">Contact Number 2:</div>
                            <div class="value">${student.full.contact2 || ''}</div>
                        </div>
                    </div>
                    
                    <div class="section">
                        <div class="section-title">FAMILY BACKGROUND</div>
                        <table>
                            <tr>
                                <th>Relation</th>
                                <th>Name</th>
                                <th>Educ. Attainment</th>
                                <th>Occupation</th>
                                <th>Contact #</th>
                                <th>Address</th>
                            </tr>
                            <tr>
                                <td>Father</td>
                                <td>${student.full.fatherName || ''}</td>
                                <td>${student.full.fatherEducation || ''}</td>
                                <td>${student.full.fatherOccupation || ''}</td>
                                <td>${student.full.fatherContact || ''}</td>
                                <td>${student.full.fatherAddress || ''}</td>
                            </tr>
                            <tr>
                                <td>Mother</td>
                                <td>${student.full.motherName || ''}</td>
                                <td>${student.full.motherEducation || ''}</td>
                                <td>${student.full.motherOccupation || ''}</td>
                                <td>${student.full.motherContact || ''}</td>
                                <td>${student.full.motherAddress || ''}</td>
                            </tr>
                        </table>
                    </div>
                    
                    <div class="signature">
                        <div class="signature-line"></div>
                        <p>Student's Signature over Printed Name</p>
                    </div>
                </div>
            `;
        }

        window.printStudent = id => {
            const student = students.find(s => s.id === id);
            if (!student) return;
            
            const printWindow = window.open('', '_blank');
            let printContent = '';
            
            // Use the appropriate template based on category
            if (student.category === 'college') {
                printContent = getCollegePrintTemplate(student);
            } else if (student.category === 'tvet') {
                printContent = getTVETPrintTemplate(student);
            } else if (student.category === 'basic') {
                printContent = getBasicEdPrintTemplate(student);
            } else {
                // Default template if category is not recognized
                printContent = getCollegePrintTemplate(student);
            }
            
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Student Inventory - ${student.name}</title>
                    <style>
                        body {
                            font-family: Arial, sans-serif;
                            margin: 20px auto;
                            padding: 20px;
                            width: 8.5in;
                            background: #fff;
                            font-size: 13px;
                        }
                        h1, h2, h3 {
                            text-align: center;
                            margin: 5px 0;
                        }
                        .header {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            margin-bottom: 10px;
                        }
                        .logo, .pic {
                            border: 1px solid #000;
                            text-align: center;
                            font-size: 12px;
                        }
                        .logo {
                            width: 80px;
                            height: 80px;
                            line-height: 80px;
                        }
                        .pic {
                            width: 120px;
                            height: 120px;
                            line-height: 120px;
                        }
                        .form-section {
                            margin: 15px 0;
                        }
                        .form-row {
                            display: flex;
                            flex-wrap: wrap;
                            margin-bottom: 8px;
                        }
                        .form-row label {
                            width: 200px;
                            font-weight: bold;
                            font-size: 13px;
                        }
                        .form-row .value {
                            flex: 1;
                            padding: 2px 4px;
                            border-bottom: 1px solid #000;
                            min-height: 20px;
                        }
                        table {
                            width: 100%;
                            border-collapse: collapse;
                            margin-top: 10px;
                            font-size: 12px;
                        }
                        table th, table td {
                            border: 1px solid #000;
                            padding: 4px 2px;
                            text-align: left;
                        }
                        .signature {
                            margin-top: 40px;
                            text-align: right;
                        }
                        .signature-line {
                            width: 250px;
                            border-bottom: 1px solid #000;
                            margin-left: auto;
                        }
                        @media print {
                            body {
                                margin: 0;
                                padding: 0;
                            }
                        }
                        
                        /* College print layout */
                        .college-print {
                            font-family: Arial, sans-serif;
                            font-size: 12px;
                            line-height: 1.4;
                            padding: 20px;
                        }
                        
                        .college-print .header {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            margin-bottom: 20px;
                            border-bottom: 2px solid #000;
                            padding-bottom: 10px;
                        }
                        
                        .college-print .logo {
                            width: 80px;
                            height: 80px;
                            border: 1px solid #000;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-weight: bold;
                        }
                        
                        .college-print .title {
                            text-align: center;
                            flex-grow: 1;
                            margin: 0 20px;
                        }
                        
                        .college-print .photo {
                            width: 120px;
                            height: 120px;
                            border: 1px solid #000;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                        }
                        
                        .college-print .section {
                            margin: 15px 0;
                        }
                        
                        .college-print .section-title {
                            font-weight: bold;
                            border-bottom: 1px solid #000;
                            margin-bottom: 10px;
                            padding-bottom: 5px;
                        }
                        
                        .college-print .row {
                            display: flex;
                            margin-bottom: 8px;
                        }
                        
                        .college-print .label {
                            width: 200px;
                            font-weight: bold;
                        }
                        
                        .college-print .value {
                            flex-grow: 1;
                            border-bottom: 1px solid #000;
                            min-height: 18px;
                        }
                        
                        .college-print table {
                            width: 100%;
                            border-collapse: collapse;
                            margin: 10px 0;
                        }
                        
                        .college-print table, .college-print th, .college-print td {
                            border: 1px solid #000;
                            padding: 5px;
                        }
                        
                        .college-print .signature {
                            margin-top: 40px;
                            text-align: right;
                        }
                        
                        .college-print .signature-line {
                            width: 250px;
                            border-bottom: 1px solid #000;
                            margin-left: auto;
                        }
                        
                        /* TVET print layout */
                        .tvet-print {
                            font-family: Arial, sans-serif;
                            font-size: 12px;
                            line-height: 1.4;
                            padding: 20px;
                        }
                        
                        .tvet-print .header {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            margin-bottom: 20px;
                            border-bottom: 2px solid #000;
                            padding-bottom: 10px;
                        }
                        
                        .tvet-print .logo {
                            width: 80px;
                            height: 80px;
                            border: 1px solid #000;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-weight: bold;
                        }
                        
                        .tvet-print .title {
                            text-align: center;
                            flex-grow: 1;
                            margin: 0 20px;
                        }
                        
                        .tvet-print .photo {
                            width: 120px;
                            height: 120px;
                            border: 1px solid #000;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                        }
                        
                        .tvet-print .section {
                            margin: 15px 0;
                        }
                        
                        .tvet-print .section-title {
                            font-weight: bold;
                            border-bottom: 1px solid #000;
                            margin-bottom: 10px;
                            padding-bottom: 5px;
                        }
                        
                        .tvet-print .row {
                            display: flex;
                            margin-bottom: 8px;
                        }
                        
                        .tvet-print .label {
                            width: 200px;
                            font-weight: bold;
                        }
                        
                        .tvet-print .value {
                            flex-grow: 1;
                            border-bottom: 1px solid #000;
                            min-height: 18px;
                        }
                        
                        .tvet-print table {
                            width: 100%;
                            border-collapse: collapse;
                            margin: 10px 0;
                        }
                        
                        .tvet-print table, .tvet-print th, .tvet-print td {
                            border: 1px solid #000;
                            padding: 5px;
                        }
                        
                        .tvet-print .signature {
                            margin-top: 40px;
                            text-align: right;
                        }
                        
                        .tvet-print .signature-line {
                            width: 250px;
                            border-bottom: 1px solid #000;
                            margin-left: auto;
                        }
                        
                        /* Basic Education print layout */
                        .basic-print {
                            font-family: Arial, sans-serif;
                            font-size: 12px;
                            line-height: 1.4;
                            padding: 20px;
                        }
                        
                        .basic-print .header {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            margin-bottom: 20px;
                            border-bottom: 2px solid #000;
                            padding-bottom: 10px;
                        }
                        
                        .basic-print .logo {
                            width: 80px;
                            height: 80px;
                            border: 1px solid #000;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-weight: bold;
                        }
                        
                        .basic-print .title {
                            text-align: center;
                            flex-grow: 1;
                            margin: 0 20px;
                        }
                        
                        .basic-print .photo {
                            width: 120px;
                            height: 120px;
                            border: 1px solid #000;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                        }
                        
                        .basic-print .section {
                            margin: 15px 0;
                        }
                        
                        .basic-print .section-title {
                            font-weight: bold;
                            border-bottom: 1px solid #000;
                            margin-bottom: 10px;
                            padding-bottom: 5px;
                        }
                        
                        .basic-print .row {
                            display: flex;
                            margin-bottom: 8px;
                        }
                        
                        .basic-print .label {
                            width: 200px;
                            font-weight: bold;
                        }
                        
                        .basic-print .value {
                            flex-grow: 1;
                            border-bottom: 1px solid #000;
                            min-height: 18px;
                        }
                        
                        .basic-print table {
                            width: 100%;
                            border-collapse: collapse;
                            margin: 10px 0;
                        }
                        
                        .basic-print table, .basic-print th, .basic-print td {
                            border: 1px solid #000;
                            padding: 5px;
                        }
                        
                        .basic-print .signature {
                            margin-top: 40px;
                            text-align: right;
                        }
                        
                        .basic-print .signature-line {
                            width: 250px;
                            border-bottom: 1px solid #000;
                            margin-left: auto;
                        }
                    </style>
                </head>
                <body>
                    ${printContent}
                    
                    <script>
                        window.onload = function() {
                            window.print();
                            setTimeout(function() {
                                window.close();
                            }, 500);
                        };
                    <\/script>
                </body>
                </html>
            `);
            printWindow.document.close();
        };

        // Search functionality
        document.getElementById("student-search").addEventListener("input", (e) => {
            const searchTerm = e.target.value.toLowerCase();
            if (searchTerm) {
                const filtered = students.filter(s => 
                    (s.name.toLowerCase().includes(searchTerm) || 
                    s.course.toLowerCase().includes(searchTerm) ||
                    s.academicYear.toLowerCase().includes(searchTerm) ||
                    (s.full && (
                        (s.full.firstName && s.full.firstName.toLowerCase().includes(searchTerm)) ||
                        (s.full.lastName && s.full.lastName.toLowerCase().includes(searchTerm)) ||
                        (s.full.permanentAddress && s.full.permanentAddress.toLowerCase().includes(searchTerm))
                    ))) &&
                    s.category === currentCategory
                );
                renderStudentsTable(filtered);
            } else {
                currentFilteredStudents = students.filter(s => s.course === currentProgram && s.category === currentCategory);
                renderStudentsTable(currentFilteredStudents);
            }
        });

        // Initialize the page
        document.addEventListener("DOMContentLoaded", function() {
            showPage("page-category");
        });
    </script>
</body>
</html>
